catalog_version: 0.1
validated_on: "2026-01-16"
notes:
  - "MVC: bewusst kompakt. Details (exakte Ports/Paths/Volumes) kommen iterativ."
  - "Einige Einträge sind Produktfamilien (LDAP-Server, NAS, MySQL). Implementation ggf. festlegen."

taxonomy:
  categories:
    - automation
    - auth
    - backup
    - dashboard
    - database
    - devtools
    - directory
    - docs
    - filesync
    - gaming
    - home
    - inventory
    - mail
    - management
    - media
    - messaging
    - monitoring
    - networking
    - proxy
    - search
    - security
    - storage
    - tracing
    - ui
  dependency_types:
    - database
    - cache
    - queue
    - object_storage
    - filesystem
    - mail_smtp
    - ldap
    - oidc
    - reverse_proxy
    - dns
    - search_backend
  feature_tags:
    # Auth
    - sso_oidc
    - sso_ldap
    - mfa
    - vault
    # Observability
    - metrics_prometheus
    - logs
    - tracing
    - health_http
    # Data
    - postgres_supported
    - mysql_supported
    - sqlite_supported
    - s3_supported
    # Ops patterns
    - backup_recommended
    - stateful
    - stateless
    - web_ui
    - api
    - agent_based

defaults:
  observability:
    healthcheck: { type: none }
    metrics: []
  deployment_hints:
    state: []
    backup: []

projects:
  ansible:
    name: Ansible
    category: automation
    provides: { type: tool, features: [automation, configuration_management] }
    requires: { dependencies: [] }
    tags: [stateless]

  opentofu:
    name: OpenTofu
    category: automation
    provides: { type: tool, features: [infrastructure_as_code] }
    requires: { dependencies: [] }
    tags: [stateless]

  semaphoreui:
    name: Semaphore UI
    category: automation
    provides:
      services: [{ name: web, protocol: http, default_port: 3000 }]
      features: [ansible_runner, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: mysql, required: false }
    tags: [web_ui, backup_recommended]

  authelia:
    name: Authelia
    category: auth
    provides:
      services: [{ name: web, protocol: http, default_port: 9091 }]
      features: [sso, mfa, policy_engine]
    requires:
      dependencies:
        - { type: oidc, required: false, note: "Authelia kann OIDC Provider sein; braucht aber meist Reverse Proxy davor." }
        - { type: reverse_proxy, required: true }
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: mysql, required: false }
        - { type: filesystem, required: true, note: "Konfiguration/Keys persistent." }
    tags: [sso_oidc, mfa, web_ui, stateful, backup_recommended]

  vaultwarden:
    name: Vaultwarden
    category: security
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [password_manager, api]
    requires:
      dependencies:
        - { type: database, engine: sqlite, required: false }
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: mysql, required: false }
        - { type: reverse_proxy, required: true }
        - { type: filesystem, required: true, note: "Datenverzeichnis persistent." }
    tags: [web_ui, api, stateful, backup_recommended, health_http]

  caddy:
    name: Caddy
    category: proxy
    provides:
      services: [{ name: reverse-proxy, protocol: http, default_port: 80 }, { name: tls, protocol: https, default_port: 443 }]
      features: [reverse_proxy, tls_termination, acme]
    requires:
      dependencies: []
    tags: [stateless, web_ui]

  haproxy:
    name: HAProxy
    category: proxy
    provides:
      services: [{ name: reverse-proxy, protocol: tcp, default_port: 80 }]
      features: [reverse_proxy, load_balancing]
    requires: { dependencies: [] }
    tags: [stateless]

  nginx_proxy_manager_like:
    name: "Reverse-Proxy (Allgemein)"
    category: proxy
    provides: { type: pattern, features: [reverse_proxy, tls_termination] }
    requires: { dependencies: [] }
    tags: [stateless]

  cockpit:
    name: Cockpit
    category: management
    provides:
      services: [{ name: web, protocol: https, default_port: 9090 }]
      features: [server_management, web_ui]
    requires:
      dependencies: []
    tags: [web_ui, agent_based]

  webmin:
    name: Webmin
    category: management
    provides:
      services: [{ name: web, protocol: https, default_port: 10000 }]
      features: [server_management, web_ui]
    requires: { dependencies: [] }
    tags: [web_ui, agent_based]

  uptime_kuma:
    name: Uptime Kuma
    category: monitoring
    provides:
      services: [{ name: web, protocol: http, default_port: 3001 }]
      features: [uptime_monitoring, notifications]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Daten persistent (SQLite/Volume)." }
    tags: [web_ui, stateful, backup_recommended, health_http]

  prometheus:
    name: Prometheus
    category: monitoring
    provides:
      services: [{ name: metrics, protocol: http, default_port: 9090 }]
      features: [metrics_scrape, tsdb]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "TSDB Daten persistent." }
    tags: [metrics_prometheus, stateful, backup_recommended]

  grafana:
    name: Grafana
    category: monitoring
    provides:
      services: [{ name: web, protocol: http, default_port: 3000 }]
      features: [dashboards, alerting, plugins]
    requires:
      dependencies:
        - { type: database, engine: sqlite, required: false }
        - { type: database, engine: postgres, required: false }
        - { type: filesystem, required: true, note: "Dashboards/Plugins persistent." }
    tags: [web_ui, stateful, backup_recommended]

  loki:
    name: Loki
    category: monitoring
    provides:
      services: [{ name: logs, protocol: http, default_port: 3100 }]
      features: [log_storage, query]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Log storage persistent." }
        - { type: object_storage, required: false, note: "S3 kompatibel optional." }
    tags: [logs, stateful, backup_recommended]

  influxdb:
    name: InfluxDB
    category: database
    provides:
      services: [{ name: api, protocol: http, default_port: 8086 }]
      features: [timeseries_db, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "DB persistent." }
    tags: [stateful, backup_recommended, api]

  zabbix:
    name: Zabbix
    category: monitoring
    provides:
      services:
        - { name: web, protocol: http, default_port: 8080 }
        - { name: server, protocol: tcp, default_port: 10051 }
      features: [monitoring, agent_based, alerting]
    requires:
      dependencies:
        - { type: database, engine: mysql, required: false }
        - { type: database, engine: postgres, required: false }
    tags: [web_ui, agent_based, backup_recommended]

  elasticsearch:
    name: Elasticsearch
    category: search
    provides:
      services: [{ name: api, protocol: http, default_port: 9200 }]
      features: [search_index, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Indexdaten persistent." }
    tags: [stateful, backup_recommended, api]

kibana:
  name: Kibana
  category: search
  provides:
    services: [{ name: web, protocol: http, default_port: 5601 }]
    features: [dashboards, web_ui]
  requires:
    dependencies:
      - { type: search_backend, engine: elasticsearch, required: true }
      - { type: filesystem, required: false, note: "Optional: persistent config/keystore je nach Setup." }
      - { type: reverse_proxy, required: false }
  tags: [web_ui, stateless]

  logstash:
    name: Logstash
    category: search
    provides:
      services: [{ name: pipeline, protocol: tcp, default_port: 5044 }]
      features: [log_ingest, pipeline]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Pipeline configs persistent." }
        - { type: database, required: false, note: "Output oft Elasticsearch/Loki/etc." }
    tags: [logs, stateful]

  postgresql:
    name: PostgreSQL
    category: database
    provides:
      services: [{ name: db, protocol: tcp, default_port: 5432 }]
      features: [relational_db]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "PGDATA persistent." }
    tags: [stateful, backup_recommended, postgres_supported]

  mariadb:
    name: MariaDB
    category: database
    provides:
      services: [{ name: db, protocol: tcp, default_port: 3306 }]
      features: [relational_db]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Datadir persistent." }
    tags: [stateful, backup_recommended, mysql_supported]

  mysql:
    name: MySQL
    category: database
    provides:
      services: [{ name: db, protocol: tcp, default_port: 3306 }]
      features: [relational_db]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Datadir persistent." }
    tags: [stateful, backup_recommended, mysql_supported]

  pgadmin:
    name: pgAdmin
    category: database
    provides:
      services: [{ name: web, protocol: http, default_port: 5050 }]
      features: [db_admin_ui, web_ui]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: false, note: "Spricht mit PostgreSQL-Servern." }
        - { type: filesystem, required: true, note: "Config/Session storage persistent." }
    tags: [web_ui, stateful, backup_recommended]

  phpmyadmin:
    name: phpMyAdmin
    category: database
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [db_admin_ui, web_ui]
    requires:
      dependencies:
        - { type: database, engine: mysql, required: true }
    tags: [web_ui, stateless]

  phpldapadmin:
    name: phpLDAPadmin
    category: directory
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [ldap_admin_ui, web_ui]
    requires:
      dependencies:
        - { type: ldap, required: true }
    tags: [web_ui, stateless]

  ldap_server:
    name: LDAP-Server
    category: directory
    provides:
      services: [{ name: ldap, protocol: tcp, default_port: 389 }, { name: ldaps, protocol: tcp, default_port: 636 }]
      features: [directory, auth_backend]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Directory DB persistent." }
    tags: [stateful, backup_recommended, sso_ldap]

  gitea:
    name: Gitea
    category: devtools
    provides:
      services: [{ name: web, protocol: http, default_port: 3000 }, { name: ssh, protocol: tcp, default_port: 22 }]
      features: [git_hosting, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: mysql, required: false }
        - { type: database, engine: sqlite, required: false }
        - { type: filesystem, required: true, note: "Repos/Attachments persistent." }
        - { type: mail_smtp, required: false }
    tags: [web_ui, api, stateful, backup_recommended]

  foreman:
    name: Foreman
    category: management
    provides:
      services: [{ name: web, protocol: http, default_port: 3000 }]
      features: [provisioning, inventory, pxeboot, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: true }
        - { type: dns, required: false }
        - { type: filesystem, required: true, note: "Templates/Certs persistent." }
    tags: [web_ui, api, stateful, backup_recommended]

  netbox:
    name: NetBox
    category: inventory
    provides:
      services: [{ name: web, protocol: http, default_port: 8000 }]
      features: [ipam, dcim, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: true }
        - { type: cache, engine: redis, required: true }
        - { type: filesystem, required: true, note: "Media/Reports/Config persistent." }
    tags: [web_ui, api, stateful, backup_recommended, postgres_supported]

  snipeit:
    name: Snipe-IT
    category: inventory
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [asset_management, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: mysql, required: true }
        - { type: mail_smtp, required: false }
        - { type: filesystem, required: true, note: "Uploads persistent." }
    tags: [web_ui, api, stateful, backup_recommended, mysql_supported]

  inventree:
    name: InvenTree
    category: inventory
    provides:
      services: [{ name: web, protocol: http, default_port: 1337 }]
      features: [parts_inventory, bom, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: true }
        - { type: cache, engine: redis, required: false }
        - { type: filesystem, required: true, note: "Media/Config persistent." }
    tags: [web_ui, api, stateful, backup_recommended]

  nextcloud:
    name: Nextcloud
    category: storage
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [file_sync, sharing, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: mysql, required: false }
        - { type: filesystem, required: true, note: "Data directory persistent (groß!)." }
        - { type: mail_smtp, required: false }
        - { type: reverse_proxy, required: true }
    tags: [web_ui, api, stateful, backup_recommended]

  syncthing:
    name: Syncthing
    category: filesync
    provides:
      services:
        - { name: web, protocol: http, default_port: 8384 }
        - { name: sync, protocol: tcp, default_port: 22000 }
    provides_2:
      # (optional) UDP discovery/relay ports je nach Setup
      note: "UDP discovery optional; hängt vom Netzwerk ab."
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Sync-Folder persistent." }
    tags: [stateful, backup_recommended, web_ui]

  paperless_ngx:
    name: Paperless-ngx (PaperlessNG)
    category: docs
    provides:
      services: [{ name: web, protocol: http, default_port: 8000 }]
      features: [document_management, ocr_pipeline, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: true }
        - { type: cache, engine: redis, required: true }
        - { type: filesystem, required: true, note: "Consume/Media/Export persistent." }
    tags: [web_ui, api, stateful, backup_recommended]

  n8n:
    name: n8n
    category: automation
    provides:
      services: [{ name: web, protocol: http, default_port: 5678 }]
      features: [workflow_automation, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: sqlite, required: false }
        - { type: filesystem, required: true, note: "Workflow state/credentials persistent." }
    tags: [web_ui, api, stateful, backup_recommended]

  dashy:
    name: Dashy
    category: dashboard
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [dashboard, web_ui]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Config persistent." }
    tags: [web_ui, stateless]

  guacamole:
    name: Apache Guacamole
    category: management
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [remote_access_gateway, web_ui]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: mysql, required: false }
        - { type: filesystem, required: true, note: "Config/Extensions persistent." }
    tags: [web_ui, stateful, backup_recommended]

  matrix_synapse:
    name: Matrix (Synapse)
    category: messaging
    provides:
      services: [{ name: federation, protocol: https, default_port: 8448 }, { name: client, protocol: https, default_port: 443 }]
      features: [chat_server, federation]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: true }
        - { type: reverse_proxy, required: true }
        - { type: filesystem, required: true, note: "Media store persistent." }
    tags: [stateful, backup_recommended, postgres_supported]

  element:
    name: Element (Matrix Client)
    category: messaging
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [chat_client, web_ui]
    requires:
      dependencies:
        - { type: reverse_proxy, required: false }
        - { type: filesystem, required: true, note: "Config/branding persistent." }
    tags: [web_ui, stateless]

  home_assistant:
    name: Home Assistant
    category: home
    provides:
      services: [{ name: web, protocol: http, default_port: 8123 }]
      features: [home_automation, integrations, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Config persistent." }
        - { type: dns, required: false }
    tags: [web_ui, api, stateful, backup_recommended]

  bacula:
    name: Bacula
    category: backup
    provides:
      services: [{ name: director, protocol: tcp, default_port: 9101 }]
      features: [backup, restore, scheduling]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: false }
        - { type: database, engine: mysql, required: false }
        - { type: filesystem, required: true, note: "Backup storage persistent." }
    tags: [stateful, backup_recommended]

  proxmox_mail_gateway:
    name: Proxmox Mail Gateway
    category: mail
    provides:
      services: [{ name: smtp, protocol: tcp, default_port: 25 }, { name: web, protocol: https, default_port: 8006 }]
      features: [mail_gateway, spam_filter, web_ui]
    requires:
      dependencies:
        - { type: mail_smtp, required: true, note: "Upstream/Relay SMTP." }
        - { type: filesystem, required: true, note: "Spool/Config persistent." }
    tags: [web_ui, stateful, backup_recommended]

  nas:
    name: NAS
    category: storage
    provides:
      type: service_family
      features: [smb, nfs, storage]
    requires:
      dependencies:
        - { type: filesystem, required: true }
    tags: [stateful, backup_recommended]

  media_jellyfin:
    name: Jellyfin
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 8096 }]
      features: [media_server, transcoding, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Media + config persistent." }
    tags: [web_ui, api, stateful, backup_recommended]

  media_plex:
    name: Plex
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 32400 }]
      features: [media_server, transcoding, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Media + config persistent." }
    tags: [web_ui, api, stateful, backup_recommended]

  media_emby:
    name: Emby
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 8096 }]
      features: [media_server, transcoding, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true }
    tags: [web_ui, api, stateful, backup_recommended]

  tautulli:
    name: Tautulli
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 8181 }]
      features: [plex_monitoring, web_ui]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "DB/Config persistent." }
        - { type: filesystem, required: false, note: "Needs Plex API." }
    tags: [web_ui, stateful, backup_recommended]

  tdarr:
    name: Tdarr
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 8265 }]
      features: [media_transcode_pipeline, web_ui]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Media access + queue/state." }
    tags: [web_ui, stateful]

  sabnzbd:
    name: SABnzbd
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [usenet_downloader, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Downloads/config persistent." }
    tags: [web_ui, api, stateful]

  sonarr:
    name: Sonarr
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 8989 }]
      features: [tv_management, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Config + media mount persistent." }
    tags: [web_ui, api, stateful]

  radarr:
    name: Radarr
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 7878 }]
      features: [movie_management, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true }
    tags: [web_ui, api, stateful]

  lidarr:
    name: Lidarr
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 8686 }]
      features: [music_management, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true }
    tags: [web_ui, api, stateful]

  ombi:
    name: Ombi
    category: media
    provides:
      services: [{ name: web, protocol: http, default_port: 5000 }]
      features: [media_requests, web_ui, api]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "DB/config persistent." }
        - { type: reverse_proxy, required: false }
    tags: [web_ui, api, stateful]

  minecraft:
    name: Minecraft Server
    category: gaming
    provides:
      services: [{ name: game, protocol: tcp, default_port: 25565 }]
      features: [game_server]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "World data persistent." }
    tags: [stateful, backup_recommended]

  openproject:
    name: OpenProject
    category: docs
    provides:
      services: [{ name: web, protocol: http, default_port: 8080 }]
      features: [project_management, web_ui, api]
    requires:
      dependencies:
        - { type: database, engine: postgres, required: true }
        - { type: filesystem, required: true, note: "Assets/Attachments persistent." }
        - { type: reverse_proxy, required: false }
    tags: [web_ui, api, stateful, backup_recommended, postgres_supported]

  sui:
    name: "SUI (Server-UI)"
    category: ui
    provides: { type: custom, features: [web_ui] }
    requires:
      dependencies:
        - { type: reverse_proxy, required: false }
        - { type: oidc, required: false }
    tags: [web_ui]

  cockpitdb:
    name: CockroachDB
    category: database
    provides:
      services: [{ name: db, protocol: tcp, default_port: 26257 }, { name: web, protocol: http, default_port: 8080 }]
      features: [distributed_sql, web_ui]
    requires:
      dependencies:
        - { type: filesystem, required: true, note: "Node data persistent." }
        - { type: dns, required: false, note: "Cluster naming/service discovery hilfreich." }
    tags: [stateful, backup_recommended, web_ui]

  emby_family_note:
    name: "Media-Stack Hinweis"
    category: media
    provides: { type: note, features: ["Du nutzt vermutlich nur 1–2 Media-Server; der Rest ist optional."] }
    requires: { dependencies: [] }
    tags: []

index:
  # Kurzer Überblick, damit Ralf schnell “matchen” kann.
  by_category:
    automation: [ansible, opentofu, semaphoreui, n8n]
    auth: [authelia, ldap_server]
    backup: [bacula]
    database: [postgresql, mariadb, mysql, influxdb, cockpitdb]
    devtools: [gitea]
    directory: [ldap_server, phpldapadmin]
    docs: [paperless_ngx, openproject]
    filesync: [syncthing]
    home: [home_assistant]
    inventory: [netbox, snipeit, inventree]
    mail: [proxmox_mail_gateway]
    management: [cockpit, webmin, foreman, guacamole]
    media: [media_jellyfin, media_plex, media_emby, tautulli, tdarr, sabnzbd, sonarr, radarr, lidarr, ombi]
    messaging: [matrix_synapse, element]
    monitoring: [prometheus, grafana, loki, uptime_kuma, zabbix]
    proxy: [caddy, haproxy]
    search: [elasticsearch, kibana, logstash]
    storage: [nas, nextcloud]
    ui: [dashy, sui]
    gaming: [minecraft]
